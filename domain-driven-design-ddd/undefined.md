# 도메인 주도 설계 핵심

## 2장 바운디드 컨텍스트 및 보편언어와 전략적 설계 

### 챕터 용어정리

* Big ball of mud \(진흙덩어리\) :
* Bounded Context :
* 보편언어
* 협업 컨텍스트  

### 바운디드 컨텍스트

* DDD는 바운디드 컨텍스트내 에서 보편언어를 모델링하는 것으로 이야기된다.
* 바운디드 컨텍스트는 의미적으로 동일한 컨텍스트의 범위를 표현한다.
  * 이 범위 내에서 소프트웨어 모델의 각 컴포넌트는 특정한 의미를 가지고 일을 수행한다.
  * 컨텍스트 내의 존재하는 컴포넌트는 컨텍스트에 특화되어 의미있게 활용된다.
* 문제 영역\(problem space\)의 일부로 생각될 수 있으나, 설계되는 모델이 깊은 의미와 명확성을 가지게 되면 바운디드 컨텍스트는 해결영역\(software space\)로 전환되고 모델들은 프로젝트 소스 코드에 반영된다.
  * 문제영역
    * 상위수준의 전략적 분석을 수행하고 주어진 프로젝트 제약사항 내에서 단계를 설계하는 영역
    * 프로젝트 요인, 주요목표와 위험 사항에 대해서 논의시 간단한 다이어그램을 활용한다.
    * 실제 예로 컨텍스트 맵은 문제 영역에서 잘 활용된다.
    * 필요에 따라 해결 영역과 밀접한 영역을 가지게된다.
  * 해결영역
    * 문제영역의 논의가 핵심 도메인으로 바라보는 해결 방안을 구현하는 곳이다.
    * 바운디드 컨텍스트를 조직의 핵심 전략계획으로  개발시 이를 핵심 도메인이라고 한다.
    * 바운디드 컨텍스트 내에서 메인, 테스트 코드로 해결 방안을 개발한다.
    * 타 바운디드 컨텍스트와의 통합을 지원하는 해결 영역에서도 코드를 생산한다.
* 즉 바운디드 컨텍스트는 일정한 범위내에 의미를 가지는 모델들이 구현되는 곳이며, 각 바운디드 컨텍스트는 각각의 분리된 소프트웨어 산출물이 나온다.
* 우리가 사용하는 인간의 언어도 국경을 넘어가면 그 경계가 명확하다. 바운디드 컨텍스트 또한 유사한 의미를 가지고 있다.
* 단일팀만 할당되어야하며 각 바운디드 컨텍스트 마다 독립적인 소스코드 리포지토리가 필요로 한다.
* 한 팀이 다수의 바운디드 컨텍스트를 운용이 가능하나, 여러팀이 한 바운디드 컨텍스트를 수행하지 않는다.
  * 이는 다수의 팀이 수행할 경우 발생되는 문제를 원천차단하기 위함이다.
  * 동음이의어 와같은 상황이 발생되는데 비즈니스 지식들이 다른 컨텍스트에 존재하기 때문이다.
  * 타 팀과의 소통은 공식 인터페이스를 정의하여 담당한 바운디드 컨텍스트를 다른 팀이 사용할 수있게 허용한다.
  * 이것이 DDD의 사용의 이점이다.
* 보편언어를 나눈것과 같은 방법으로 바운디드 컨텍스트 마다 소스코드, 스키마 역시 명확하게 분리해야한다.
* 메인 소스 및 단위, 인수 테스트 역시 유지해야한다.
* 바운디드 컨텍스트를 사용하는 이유는  각팀이 각 도메인을 작고 관리할 수있는 정도에서 시작한다 할지라도 수많은 개념이 쌓이는 것을 언제까지 누적해야하는가 판단이 안설 경우가 있다.
* 각 팀은 더 많은 개념을 추가하게되면서 하나의  거대,혼란,경계가 제한되지 않은 모델안에서 너무 많은 개념이 존재하는 것은 물론 실제로 다수의 언어가 혼재 되면서 점차 모델내의 언어가 모호해지기 시작한다.
* 위와 같은 상황에서 각 팀이 소프트웨어 제품을 진흙 덩어리로 만들어버린다.
* 이러한 모델을 사용하게 된다면 큰 문제가 발생되어 알수없게 확장되거나 어울리지 않는 모듈을 상호 연계될 가능성도 존재한다. 이는 테스트 시간의 중가와 건너뛰는 현상을 초례할 수있다. 개판이라는 것이다.

### 보편언어

* 컨텍스트 범위 내의 소프트웨어 모델은 바운디드 컨텍스트 안에서 일하는 팀이 생성하고 소프트웨어 모델을 구현하는 모든 팀 구성원이 사용하는 언어를 반영한다.
* 이 언어는 팀 구성원이 이야기 시 사용되고 소프트웨어 모델 안에서 구현되기에 보편언어라고 불리운다.
* 팀 모두가 보편언어로 표현된 의미에 대한 제약사항과 정확한 의미를 이해해야한다.
* 이 언어의 대표적인 기록형태는 소프트웨어 모델의 소스 코드이다.

### 핵심도메인

* 핵심 도메인은 다음과 같은 목표를 가진다.
  * 가치있는 것들을 달성하기 위한 수단
  * 다른 조직과 경쟁에 대한 차별화
  * 최소한 하나의 주요한 사업 부분을 다룬다.
  * 기업이 올바른 정략을 결정하기 위해 무엇이 핵심 도메인인지 분별해야한다.

